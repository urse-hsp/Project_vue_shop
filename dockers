# dockerfile
FROM node as BUILD

MAINTAINER Min "hsp_email@163.com"

# WORKDIR  /app
# COPY . /app/
# RUN cd /app
# VOLUME ./node_modules

VOLUME ./node_modules 
# RUN yarn && yarn build


# 使用 nginx最新版本作为基础镜像
FROM nginx
# 将当前文件夹的dist文件复制到容器的/usr/share/nginx/html目录
COPY ./dist /usr/share/nginx/html 
# COPY ./nginx/nginx.conf /etc/nginx/nginx.conf


# 声明运行时容器暴露的端口（容器提供的服务端口）
EXPOSE 8080

# CMD:指定容器启动时要运行的命令
CMD ["nginx", "-g", "daemon off;"]


# docker build -f /root/project/vue_shop/Dockerfile . -t vue_shop
# docker run -p 8087:80 -dit vue:latest
#docker run -p 8087:80 -d vue:latest
#



#dockerfile
#使用 nginx最新版本作为基础镜像
FROM nginx

#将当前文件夹的dist文件复制到容器的/usr/share/nginx/html目录
COPY ./dist /usr/share/nginx/html/

#声明运行时容器暴露的端口（容器提供的服务端口）
EXPOSE 8080

#CMD:指定容器启动时要运行的命令
CMD ["nginx", "-g", "daemon off;"]